<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">


























































<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="shortcut icon" type="image/x-icon" href="../../../favicon.ico" />
<title>Hierarchy Viewer (1.5) | Android Developers</title>
<link href="../../../assets/android-developer-docs-devguide.css" rel="stylesheet" type="text/css" />
<script src="../../../assets/search_autocomplete.js" type="text/javascript"></script>
<script src="../../../reference/lists.js" type="text/javascript"></script>
<script src="../../../assets/jquery-resizable.min.js" type="text/javascript"></script>
<script src="../../../assets/android-developer-docs.js" type="text/javascript"></script>
<script type="text/javascript">
  setToRoot("../../../");
</script>
<noscript>
  <style type="text/css">
    html,body{overflow:auto;}
    #body-content{position:relative; top:0;}
    #doc-content{overflow:visible;border-left:3px solid #666;}
    #side-nav{padding:0;}
    #side-nav .toggle-list ul {display:block;}
    #resize-packages-nav{border-bottom:3px solid #666;}
  </style>
</noscript>
</head>

<body class="gc-documentation">

  <div id="header">
      <div id="headerLeft">
          <a href="../../../index.html" tabindex="-1"><img
              src="../../../assets/images/bg_logo.png" alt="Android Developers" /></a>
          <ul class="guide">
              <li id="home-link"><a href="../../../offline.html">
                  <span>Home</span></a></li>
              <li id="sdk-link"><a href="../../../sdk/1.5_r1/index.html"><span>SDK</span></a></li>
              <li id="guide-link"><a href="../../../guide/index.html"
                                  onClick="return loadLast('guide')"><span>Dev Guide</span></a></li>
              <li id="reference-link"><a href="../../../reference/packages.html" 
                                  onClick="return loadLast('reference')"><span>Reference</span></a></li>
              <li><a href="http://android-developers.blogspot.com"><span>Blog</span></a></li>
              <li id="community-link"><a href="../../../community/index.html"><span>Community</span></a></li>
          </ul>
      </div>
      <div id="headerRight">
          <div id="headerLinks">
            <!-- <img src="../../../assets/images/icon_world.jpg" alt="" /> -->
            <span class="text">
              <!-- &nbsp;<a href="#">English</a> | -->
              <a href="http://www.android.com">Android.com</a>
            </span>
          </div>
  <div id="search" >
      <div id="searchForm">
          <form accept-charset="utf-8" class="gsc-search-box" 
                onsubmit="return submit_search()">
            <table class="gsc-search-box" cellpadding="0" cellspacing="0"><tbody>
                <tr>
                  <td class="gsc-input">
                    <input id="search_autocomplete" class="gsc-input" type="text" size="33" autocomplete="off" 
                      title="search developer docs" name="q"
                      value="search developer docs" 
                      onFocus="search_focus_changed(this, true)" 
                      onBlur="search_focus_changed(this, false)" 
                      onkeydown="return search_changed(event, true, '../../../')" 
                      onkeyup="return search_changed(event, false, '../../../')" />
                  <div id="search_filtered_div" class="no-display">
                      <table id="search_filtered" cellspacing=0>
                      </table>
                  </div>
                  </td>
                  <td class="gsc-search-button">
                    <input type="submit" value="Search" title="search" id="search-button" class="gsc-search-button" />
                  </td>
                  <td class="gsc-clear-button">
                    <div title="clear results" class="gsc-clear-button">&nbsp;</div>
                  </td>
                </tr></tbody>
              </table>
          </form>
      </div><!-- searchForm -->
  </div><!-- search -->
      </div><!-- headerRight -->
  </div><!-- header -->

  <div class="g-section g-tpl-240" id="body-content">
    <div class="g-unit g-first side-nav-resizable" id="side-nav">
      <div id="devdoc-nav"><ul>

<li><h2>Android Basics</h2>
    <ul>
      <li><a href="../../../guide/basics/what-is-android.html">What Is Android?</a></li>
<!--  <li><a style="color:gray;">The Android SDK</a></li> -->
<!--  <li><a style="color:gray;">Walkthrough for Developers</a></li> -->
      <!-- quick overview of what it's like to develop on Android -->
    </ul>
</li>

<li><h2>Framework Topics</h2>
    <ul>
      <li><a href="../../../guide/topics/fundamentals.html">Application Fundamentals</a></li>
    </ul>
    <ul>
      <li class="toggle-list">
        <div><a href="../../../guide/topics/ui/index.html">User Interface</a></div>
          <ul>
            <li><a href="../../../guide/topics/ui/declaring-layout.html">Declaring Layout</a></li>
            <li><a href="../../../guide/topics/ui/menus.html">Creating Menus</a></li>
            <li><a href="../../../guide/topics/ui/layout-objects.html">Common Layout Objects</a></li>
            <li><a href="../../../guide/topics/ui/binding.html">Binding to Data with AdapterView</a></li>
            <li><a href="../../../guide/topics/ui/ui-events.html">Handling UI Events</a></li>
            <li><a href="../../../guide/topics/ui/themes.html">Applying Styles and Themes</a></li>
            <li><a href="../../../guide/topics/ui/custom-components.html">Building Custom Components</a></li>
            <li><a href="../../../guide/topics/ui/how-android-draws.html">How Android Draws Views</a></li>
          </ul>
      </li>
      <li class="toggle-list">
        <div><a href="../../../guide/topics/resources/index.html">Resources and Assests</a></div>
          <ul>
            <li><a href="../../../guide/topics/resources/resources-i18n.html">Resources and I18n</a></li>
            <li><a href="../../../guide/topics/resources/available-resources.html">Available Resource Types</a></li>
          </ul>
      </li>
      <li><a href="../../../guide/topics/intents/intents-filters.html">Intents and Intent Filters</a></li>
      <li><a href="../../../guide/topics/data/data-storage.html">Data Storage</a></li>
      <li><a href="../../../guide/topics/providers/content-providers.html">Content Providers</a></li>
<!--  <li><a style="color:gray;">Notifications</a></li> -->
      <li><a href="../../../guide/topics/security/security.html">Security and Permissions</a></li>
<!--  <li><a style="color:gray;">Processes and Threads</a></li> -->
<!--  <li><a style="color:gray;">Interprocess Communication</a></li> -->
      <li class="toggle-list">
        <div><a href="../../../guide/topics/manifest/manifest-intro.html">The AndroidManifest.xml File</a></div>
          <ul>
            <li><a href="../../../guide/topics/manifest/action-element.html">&lt;action&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/activity-element.html">&lt;activity&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/activity-alias-element.html">&lt;activity-alias&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/application-element.html">&lt;application&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/category-element.html">&lt;category&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/data-element.html">&lt;data&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/grant-uri-permission-element.html">&lt;grant-uri-permission&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/instrumentation-element.html">&lt;instrumentation&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/intent-filter-element.html">&lt;intent-filter&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/manifest-element.html">&lt;manifest&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/meta-data-element.html">&lt;meta-data&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/permission-element.html">&lt;permission&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/permission-group-element.html">&lt;permission-group&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/permission-tree-element.html">&lt;permission-tree&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/provider-element.html">&lt;provider&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/receiver-element.html">&lt;receiver&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/service-element.html">&lt;service&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/uses-configuration-element.html">&lt;uses-configuration&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/uses-library-element.html">&lt;uses-library&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/uses-permission-element.html">&lt;uses-permission&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/uses-sdk-element.html">&lt;uses-sdk&gt;</a></li>
          </ul>
      </li>
    </ul>
    <ul>
      <li class="toggle-list">
        <div><a href="../../../guide/topics/graphics/index.html">Graphics</a></div>
          <ul>
            <li><a href="../../../guide/topics/graphics/2d-graphics.html">2D Graphics</a></li>
            <li><a href="../../../guide/topics/graphics/opengl.html">3D with OpenGL</a></li>
          </ul>
      </li>
      <li><a href="../../../guide/topics/media/index.html">Audio and Video</a></li>
<!--       <li class="toggle-list">
        <div><a style="color:gray;">Sensors</a></div>
          <ul>
            <li><a style="color:gray;">Camera</a></li>
            <li><a style="color:gray;">Compass</a></li>
            <li><a style="color:gray;">Accelerometer</a></li>
          </ul>
      </li> -->
      <li><a href="../../../guide/topics/location/index.html">Location and Maps</a></li>
<!--    <li class="toggle-list">
        <div><a style="color:gray;">Wireless Controls</a></div>
          <ul>
            <li><a style="color:gray;">Wi-Fi</a></li>
            <li><a style="color:gray;">Bluetooth</a></li>
          </ul>
      </li> -->
<!--  <li><a style="color:gray;">Localization</a></li>  -->
    </ul>
</li>

<li><h2>Developing</h2>
    <ul>
      <!--       <li><a style="color:gray;">Developing for Android</a></li>
      signing, upgrading, selecting a package name, select device profile, touch, trackball, dpad available, etc. -->
      <li><a href="../../../guide/developing/eclipse-adt.html">In Eclipse, with ADT</a></li>
      <li><a href="../../../guide/developing/other-ide.html">In Other IDEs</a></li>
      <li><a href="../../../guide/developing/device.html">On a Device</a></li>
      <li><a href="../../../guide/developing/debug-tasks.html">Debugging Tasks</a></li>
      <li class="toggle-list">
        <div><a href="../../../guide/developing/tools/index.html">Tools</a></div>
          <ul>
			<li><a href="../../../guide/developing/tools/aapt.html">aapt</a></li>
			<li><a href="../../../guide/developing/tools/adb.html">adb</a></li>
			<li><a href="../../../guide/developing/tools/othertools.html#android">android</a></li>
<!--			<li><a href="../../../guide/developing/tools/adt.html">ADT Plugin</a></li>-->
			<li><a href="../../../guide/developing/tools/aidl.html" >aidl</a></li>
			<li><a href="../../../guide/developing/tools/avd.html" >AVDs</a></li>
			<li><a href="../../../guide/developing/tools/ddms.html" >ddms</a></li>
			<li><a href="../../../guide/developing/tools/othertools.html#dx">dx</a></li>
			<li><a href="../../../guide/developing/tools/draw9patch.html">Draw 9-Patch</a></li>
			<li><a href="../../../guide/developing/tools/emulator.html">Emulator</a></li>
			<li><a href="../../../guide/developing/tools/hierarchy-viewer.html">Hierarchy Viewer</a></li>
			<li><a href="../../../guide/developing/tools/othertools.html#mksdcard">mksdcard</a></li>
			<li><a href="../../../guide/developing/tools/monkey.html">Monkey</a></li>
			<li><a href="../../../guide/developing/tools/adb.html#sqlite">sqlite3</a></li>
			<li><a href="../../../guide/developing/tools/traceview.html" >Traceview</a></li>
		  </ul></li>
<!--      <li><a href="../../../guide/developing/instrumentation/index.html">Instrumentation</a></li>
      <li><a style="color:gray;">JUnit</a></li> -->
   </ul>

</li>

<li><h2>Publishing</h2>
    <ul>
      <li><a href="../../../guide/publishing/app-signing.html">Signing Your Applications</a></li>
      <li><a href="../../../guide/publishing/versioning.html">Versioning Your Applications</a></li>
      <li><a href="../../../guide/publishing/preparing.html">Preparing to Publish</a></li>
      <li><a href="../../../guide/publishing/publishing.html">Publishing Your Applications</a></li>
    </ul>
</li>

<li><h2>Best Practices</h2>
    <ul>
      <li><a href="../../../guide/practices/design/performance.html">Designing for Performance</a></li>
      <li><a href="../../../guide/practices/design/responsiveness.html">Designing for Responsiveness</a></li>
      <li><a href="../../../guide/practices/design/seamlessness.html">Designing for Seamlessness</a></li>
<!--  <li><a style="color:gray;">User Interface Guidelines</a></li> -->
    </ul>
</li>

<li><h2>Tutorials and Sample Code</h2>
    <ul>
      <li><a href="../../../guide/tutorials/hello-world.html">Hello World</a></li>
      <li><a href="../../../guide/tutorials/views/index.html">Hello Views</a></li>
      <li><a href="../../../guide/tutorials/notepad/index.html">Notepad Tutorial</a></li>
    </ul>
    <ul>
    
      <li><a href="../../../../samples">Sample Code &raquo;</a></li>
    
    </ul>
</li>



<li><h2>Appendix</h2>
    <ul>
      <li><a href="../../../guide/appendix/media-formats.html">Supported Media Formats</a></li>
      <li><a href="../../../guide/appendix/g-app-intents.html">Intents List: Google Apps</a></li>
      <li><a href="../../../guide/appendix/glossary.html">Glossary</a></li>
      <li><a href="../../../guide/appendix/faq/index.html">FAQ</a></li>
    </ul>
</li>

</ul>

<script type="text/javascript">
<!--
    buildToggleLists();
//-->
</script>

      </div>
    </div> <!-- end side-nav -->
    <script>
      addLoadEvent(function() {
        scrollIntoView("devdoc-nav");
        });
    </script>




<div class="g-unit" id="doc-content"><a name="top"></a>

<div id="jd-header" class="guide-header">
  <span class="crumb">
    &nbsp;
    
  </span>
<h1>Hierarchy Viewer</h1>
</div>

  <div id="jd-content">


    <div class="jd-descr">
    <p>The Hierarchy Viewer application allows you to debug and optimize your user 
interface. It provides a visual representation of the layout's View hierarchy 
(the Layout View) and a magnified inspector of the display (the Pixel Perfect View). 
</p>

<p>To get the Hierarchy Viewer started:</p>
<ol>
  <li>Connect your device or launch an emulator.</li>
  <li>From a terminal, launch <code>hierarchyviewer</code> from your SDK 
    <code>/tools</code> directory.
    </li>
  <li>In the window that opens, you'll see a list of <strong>Devices</strong>. When a device is
    selected, a list of currently active <strong>Windows</strong> is displayed 
    on the right. The <em>&lt;Focused Window></em> is the window currently in 
    the foreground, and also the default window loaded if you do not select another.
    </li> 
  <li>Select the window that you'd like to inspect and click 
    <strong>Load View Hierarchy</strong>. The Layout View will be loaded. 
    You can then load the Pixel Perfect View by clicking the second 
    icon at the bottom-left of the window.
    </li>
</ol>

<p>If you've navigated to a different window on the device, press <strong>Refresh Windows</strong>
to refresh the list of available windows on the right.</p>

<h2>Layout View</h2>
<p>The Layout View offers a look at the View layout and properties. It has three views:</p>
<ul>
  <li>Tree View: a hierarchy diagram of the Views, on the left.</li>
  <li>Properties View: a list of the selected View's properties, on the top-right.</li>
  <li>Wire-frame View: a wire-frame drawing of the layout, on the bottom-right.</li>
</ul>
<br/>
<img src="../../../images/hierarchyviewer-layout.png" alt="" height="509" width="700" />

<p>Select a node in the Tree View to display the properties of that element in 
the Properties View. When a node is selected, the Wire-frame View 
also indicates the bounds of the element with a red rectangle.
Double click a node in the tree (or select it, and click <strong>Display 
View</strong>) to open a new window with a rendering of that element.</p>

<p>The Layout View includes a couple other helpful features for debugging your layout: 
<strong>Invalidate</strong> and <strong>Request Layout</strong>. These buttons execute the
respective View calls, <a href="../../../reference/android/view/View.html#invalidate()">invalidate()</a> and <a href="../../../reference/android/view/View.html#requestLayout()">requestLayout()</a>,
on the View element currently selected in the tree. Calling these methods on any View can
be very useful when simultaneously running a debugger on your application.</p>

<p>The Tree View can be resized by adjusting the zoom slider, below
the diagram. The number of View elements in the window is also given here. You 
should look for ways to minimize the number of Views. The fewer View elements there
are in a window, the faster it will perform.</p>

<p>If you interact with the device and change the focused View, the diagram will not automatically refresh.
You must reload the Layout View by clicking <strong>Load View Hierarchy</strong>.


<h2>Pixel Perfect View</h2>
<p>The Pixel Perfect View provides a magnified look at the current device window. It has three views:</p>
<ul>
  <li>Explorer View: shows the View hierarchy as a list, on the left.</li>
  <li>Normal View: a normal view of the device window, in the middle.</li>
  <li>Loupe View: a magnified, pixel-grid view of the device window, on the right.</li>
</ul>
<br/>
<img src="../../../images/hierarchyviewer-pixelperfect.png" alt="" height="509" width="700" />

<p>Click on an element in the Explorer View and a "layout box" will be drawn in the
Normal View to indicate the layout position of that element. The layout box uses multiple rectangles, to indicate the normal bounds, the padding and the margin (as needed). The purple or green rectangle indicates 
the normal bounds of the element (the height and width). The inner white or black rectangle indicates 
the content bounds, when padding is present. A  black or white rectangle outside the normal purple/green
rectangle indicates any present margins. 
(There are two colors for each rectangle, in order to provide the best contrast
based on the colors currently in the background.)</p> 

<p>A very handy feature for designing your UI is the ability to overlay an image in the Normal and Loupe
Views. For example, you might have a mock-up image of how you'd like to layout your interface. 
By selecting <strong>Load...</strong> from the controls in the Normal View, you can choose the
image from your computer and it will be placed atop the preview. Your chosen image will anchor at the bottom left corner of the screen. You can then adjust the opacity of the overlay and begin fine-tuning your layout to match the mock-up.</p>

<p>The Normal View and Loupe View refresh at regular intervals (5 seconds by default), but the 
Explorer View does not. If you navigate away and focus on a different View, then you should refresh the 
Explorer's hierarchy by clicking <strong>Load View Hierarchy</strong>. This is even true 
when you're working in a window that holds multiple Views that are not always visible. If you do not,
although the previews will refresh, clicking a View in the Explorer will not provide the proper layout box
in the Normal View, because the hierarchy believes you are still focused on the prior View.</p>

<p>Optional controls include:</p>
<ul>
  <li><strong>Overlay</strong>: Load an overlay image onto the view and adjust its opacity.</li>
  <li><strong>Refresh Rate</strong>: Adjust how often the Normal and Loupe View refresh their display.</li>
  <li><strong>Zoom</strong>: Adjust the zoom level of the Loupe View.</li>
</ul>



    </div>

  <a href="#top" style="float:right">&uarr; Go to top</a>
  
  </div>

<div id="footer">


  <div id="copyright">
    
  Except as noted, this content is licensed under <a
  href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0</a>. 
  For details and restrictions, see the <a href="../../../license.html">
  Content License</a>.
  </div>
  <div id="build_info">
    
  Android 1.5&nbsp;r1 - 26  8月 2009 22:34

  </div>

  <div id="footerlinks">
    
  <p>
    <a href="http://www.android.com/terms.html">Site Terms of Service</a> -
    <a href="http://www.android.com/privacy.html">Privacy Policy</a> -
    <a href="http://www.android.com/branding.html">Brand Guidelines</a>
  </p>
  </div>

</div> <!-- end footer -->

</div><!-- end doc-content -->

</div> <!-- end body-content --> 

<script type="text/javascript">
init(); /* initialize android-developer-docs.js */
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-5831155-1");
pageTracker._trackPageview();
</script>

</body>
</html>



