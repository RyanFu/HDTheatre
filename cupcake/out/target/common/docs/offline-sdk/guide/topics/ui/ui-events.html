<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">


























































<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="shortcut icon" type="image/x-icon" href="../../../favicon.ico" />
<title>Handling UI Events (1.5) | Android Developers</title>
<link href="../../../assets/android-developer-docs-devguide.css" rel="stylesheet" type="text/css" />
<script src="../../../assets/search_autocomplete.js" type="text/javascript"></script>
<script src="../../../reference/lists.js" type="text/javascript"></script>
<script src="../../../assets/jquery-resizable.min.js" type="text/javascript"></script>
<script src="../../../assets/android-developer-docs.js" type="text/javascript"></script>
<script type="text/javascript">
  setToRoot("../../../");
</script>
<noscript>
  <style type="text/css">
    html,body{overflow:auto;}
    #body-content{position:relative; top:0;}
    #doc-content{overflow:visible;border-left:3px solid #666;}
    #side-nav{padding:0;}
    #side-nav .toggle-list ul {display:block;}
    #resize-packages-nav{border-bottom:3px solid #666;}
  </style>
</noscript>
</head>

<body class="gc-documentation">

  <div id="header">
      <div id="headerLeft">
          <a href="../../../index.html" tabindex="-1"><img
              src="../../../assets/images/bg_logo.png" alt="Android Developers" /></a>
          <ul class="guide">
              <li id="home-link"><a href="../../../offline.html">
                  <span>Home</span></a></li>
              <li id="sdk-link"><a href="../../../sdk/1.5_r1/index.html"><span>SDK</span></a></li>
              <li id="guide-link"><a href="../../../guide/index.html"
                                  onClick="return loadLast('guide')"><span>Dev Guide</span></a></li>
              <li id="reference-link"><a href="../../../reference/packages.html" 
                                  onClick="return loadLast('reference')"><span>Reference</span></a></li>
              <li><a href="http://android-developers.blogspot.com"><span>Blog</span></a></li>
              <li id="community-link"><a href="../../../community/index.html"><span>Community</span></a></li>
          </ul>
      </div>
      <div id="headerRight">
          <div id="headerLinks">
            <!-- <img src="../../../assets/images/icon_world.jpg" alt="" /> -->
            <span class="text">
              <!-- &nbsp;<a href="#">English</a> | -->
              <a href="http://www.android.com">Android.com</a>
            </span>
          </div>
  <div id="search" >
      <div id="searchForm">
          <form accept-charset="utf-8" class="gsc-search-box" 
                onsubmit="return submit_search()">
            <table class="gsc-search-box" cellpadding="0" cellspacing="0"><tbody>
                <tr>
                  <td class="gsc-input">
                    <input id="search_autocomplete" class="gsc-input" type="text" size="33" autocomplete="off" 
                      title="search developer docs" name="q"
                      value="search developer docs" 
                      onFocus="search_focus_changed(this, true)" 
                      onBlur="search_focus_changed(this, false)" 
                      onkeydown="return search_changed(event, true, '../../../')" 
                      onkeyup="return search_changed(event, false, '../../../')" />
                  <div id="search_filtered_div" class="no-display">
                      <table id="search_filtered" cellspacing=0>
                      </table>
                  </div>
                  </td>
                  <td class="gsc-search-button">
                    <input type="submit" value="Search" title="search" id="search-button" class="gsc-search-button" />
                  </td>
                  <td class="gsc-clear-button">
                    <div title="clear results" class="gsc-clear-button">&nbsp;</div>
                  </td>
                </tr></tbody>
              </table>
          </form>
      </div><!-- searchForm -->
  </div><!-- search -->
      </div><!-- headerRight -->
  </div><!-- header -->

  <div class="g-section g-tpl-240" id="body-content">
    <div class="g-unit g-first side-nav-resizable" id="side-nav">
      <div id="devdoc-nav"><ul>

<li><h2>Android Basics</h2>
    <ul>
      <li><a href="../../../guide/basics/what-is-android.html">What Is Android?</a></li>
<!--  <li><a style="color:gray;">The Android SDK</a></li> -->
<!--  <li><a style="color:gray;">Walkthrough for Developers</a></li> -->
      <!-- quick overview of what it's like to develop on Android -->
    </ul>
</li>

<li><h2>Framework Topics</h2>
    <ul>
      <li><a href="../../../guide/topics/fundamentals.html">Application Fundamentals</a></li>
    </ul>
    <ul>
      <li class="toggle-list">
        <div><a href="../../../guide/topics/ui/index.html">User Interface</a></div>
          <ul>
            <li><a href="../../../guide/topics/ui/declaring-layout.html">Declaring Layout</a></li>
            <li><a href="../../../guide/topics/ui/menus.html">Creating Menus</a></li>
            <li><a href="../../../guide/topics/ui/layout-objects.html">Common Layout Objects</a></li>
            <li><a href="../../../guide/topics/ui/binding.html">Binding to Data with AdapterView</a></li>
            <li><a href="../../../guide/topics/ui/ui-events.html">Handling UI Events</a></li>
            <li><a href="../../../guide/topics/ui/themes.html">Applying Styles and Themes</a></li>
            <li><a href="../../../guide/topics/ui/custom-components.html">Building Custom Components</a></li>
            <li><a href="../../../guide/topics/ui/how-android-draws.html">How Android Draws Views</a></li>
          </ul>
      </li>
      <li class="toggle-list">
        <div><a href="../../../guide/topics/resources/index.html">Resources and Assests</a></div>
          <ul>
            <li><a href="../../../guide/topics/resources/resources-i18n.html">Resources and I18n</a></li>
            <li><a href="../../../guide/topics/resources/available-resources.html">Available Resource Types</a></li>
          </ul>
      </li>
      <li><a href="../../../guide/topics/intents/intents-filters.html">Intents and Intent Filters</a></li>
      <li><a href="../../../guide/topics/data/data-storage.html">Data Storage</a></li>
      <li><a href="../../../guide/topics/providers/content-providers.html">Content Providers</a></li>
<!--  <li><a style="color:gray;">Notifications</a></li> -->
      <li><a href="../../../guide/topics/security/security.html">Security and Permissions</a></li>
<!--  <li><a style="color:gray;">Processes and Threads</a></li> -->
<!--  <li><a style="color:gray;">Interprocess Communication</a></li> -->
      <li class="toggle-list">
        <div><a href="../../../guide/topics/manifest/manifest-intro.html">The AndroidManifest.xml File</a></div>
          <ul>
            <li><a href="../../../guide/topics/manifest/action-element.html">&lt;action&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/activity-element.html">&lt;activity&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/activity-alias-element.html">&lt;activity-alias&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/application-element.html">&lt;application&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/category-element.html">&lt;category&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/data-element.html">&lt;data&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/grant-uri-permission-element.html">&lt;grant-uri-permission&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/instrumentation-element.html">&lt;instrumentation&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/intent-filter-element.html">&lt;intent-filter&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/manifest-element.html">&lt;manifest&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/meta-data-element.html">&lt;meta-data&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/permission-element.html">&lt;permission&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/permission-group-element.html">&lt;permission-group&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/permission-tree-element.html">&lt;permission-tree&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/provider-element.html">&lt;provider&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/receiver-element.html">&lt;receiver&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/service-element.html">&lt;service&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/uses-configuration-element.html">&lt;uses-configuration&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/uses-library-element.html">&lt;uses-library&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/uses-permission-element.html">&lt;uses-permission&gt;</a></li>
            <li><a href="../../../guide/topics/manifest/uses-sdk-element.html">&lt;uses-sdk&gt;</a></li>
          </ul>
      </li>
    </ul>
    <ul>
      <li class="toggle-list">
        <div><a href="../../../guide/topics/graphics/index.html">Graphics</a></div>
          <ul>
            <li><a href="../../../guide/topics/graphics/2d-graphics.html">2D Graphics</a></li>
            <li><a href="../../../guide/topics/graphics/opengl.html">3D with OpenGL</a></li>
          </ul>
      </li>
      <li><a href="../../../guide/topics/media/index.html">Audio and Video</a></li>
<!--       <li class="toggle-list">
        <div><a style="color:gray;">Sensors</a></div>
          <ul>
            <li><a style="color:gray;">Camera</a></li>
            <li><a style="color:gray;">Compass</a></li>
            <li><a style="color:gray;">Accelerometer</a></li>
          </ul>
      </li> -->
      <li><a href="../../../guide/topics/location/index.html">Location and Maps</a></li>
<!--    <li class="toggle-list">
        <div><a style="color:gray;">Wireless Controls</a></div>
          <ul>
            <li><a style="color:gray;">Wi-Fi</a></li>
            <li><a style="color:gray;">Bluetooth</a></li>
          </ul>
      </li> -->
<!--  <li><a style="color:gray;">Localization</a></li>  -->
    </ul>
</li>

<li><h2>Developing</h2>
    <ul>
      <!--       <li><a style="color:gray;">Developing for Android</a></li>
      signing, upgrading, selecting a package name, select device profile, touch, trackball, dpad available, etc. -->
      <li><a href="../../../guide/developing/eclipse-adt.html">In Eclipse, with ADT</a></li>
      <li><a href="../../../guide/developing/other-ide.html">In Other IDEs</a></li>
      <li><a href="../../../guide/developing/device.html">On a Device</a></li>
      <li><a href="../../../guide/developing/debug-tasks.html">Debugging Tasks</a></li>
      <li class="toggle-list">
        <div><a href="../../../guide/developing/tools/index.html">Tools</a></div>
          <ul>
			<li><a href="../../../guide/developing/tools/aapt.html">aapt</a></li>
			<li><a href="../../../guide/developing/tools/adb.html">adb</a></li>
			<li><a href="../../../guide/developing/tools/othertools.html#android">android</a></li>
<!--			<li><a href="../../../guide/developing/tools/adt.html">ADT Plugin</a></li>-->
			<li><a href="../../../guide/developing/tools/aidl.html" >aidl</a></li>
			<li><a href="../../../guide/developing/tools/avd.html" >AVDs</a></li>
			<li><a href="../../../guide/developing/tools/ddms.html" >ddms</a></li>
			<li><a href="../../../guide/developing/tools/othertools.html#dx">dx</a></li>
			<li><a href="../../../guide/developing/tools/draw9patch.html">Draw 9-Patch</a></li>
			<li><a href="../../../guide/developing/tools/emulator.html">Emulator</a></li>
			<li><a href="../../../guide/developing/tools/hierarchy-viewer.html">Hierarchy Viewer</a></li>
			<li><a href="../../../guide/developing/tools/othertools.html#mksdcard">mksdcard</a></li>
			<li><a href="../../../guide/developing/tools/monkey.html">Monkey</a></li>
			<li><a href="../../../guide/developing/tools/adb.html#sqlite">sqlite3</a></li>
			<li><a href="../../../guide/developing/tools/traceview.html" >Traceview</a></li>
		  </ul></li>
<!--      <li><a href="../../../guide/developing/instrumentation/index.html">Instrumentation</a></li>
      <li><a style="color:gray;">JUnit</a></li> -->
   </ul>

</li>

<li><h2>Publishing</h2>
    <ul>
      <li><a href="../../../guide/publishing/app-signing.html">Signing Your Applications</a></li>
      <li><a href="../../../guide/publishing/versioning.html">Versioning Your Applications</a></li>
      <li><a href="../../../guide/publishing/preparing.html">Preparing to Publish</a></li>
      <li><a href="../../../guide/publishing/publishing.html">Publishing Your Applications</a></li>
    </ul>
</li>

<li><h2>Best Practices</h2>
    <ul>
      <li><a href="../../../guide/practices/design/performance.html">Designing for Performance</a></li>
      <li><a href="../../../guide/practices/design/responsiveness.html">Designing for Responsiveness</a></li>
      <li><a href="../../../guide/practices/design/seamlessness.html">Designing for Seamlessness</a></li>
<!--  <li><a style="color:gray;">User Interface Guidelines</a></li> -->
    </ul>
</li>

<li><h2>Tutorials and Sample Code</h2>
    <ul>
      <li><a href="../../../guide/tutorials/hello-world.html">Hello World</a></li>
      <li><a href="../../../guide/tutorials/views/index.html">Hello Views</a></li>
      <li><a href="../../../guide/tutorials/notepad/index.html">Notepad Tutorial</a></li>
    </ul>
    <ul>
    
      <li><a href="../../../../samples">Sample Code &raquo;</a></li>
    
    </ul>
</li>



<li><h2>Appendix</h2>
    <ul>
      <li><a href="../../../guide/appendix/media-formats.html">Supported Media Formats</a></li>
      <li><a href="../../../guide/appendix/g-app-intents.html">Intents List: Google Apps</a></li>
      <li><a href="../../../guide/appendix/glossary.html">Glossary</a></li>
      <li><a href="../../../guide/appendix/faq/index.html">FAQ</a></li>
    </ul>
</li>

</ul>

<script type="text/javascript">
<!--
    buildToggleLists();
//-->
</script>

      </div>
    </div> <!-- end side-nav -->
    <script>
      addLoadEvent(function() {
        scrollIntoView("devdoc-nav");
        });
    </script>




<div class="g-unit" id="doc-content"><a name="top"></a>

<div id="jd-header" class="guide-header">
  <span class="crumb">
    
      <a href="index.html">User Interface</a> >
    
  </span>
<h1>Handling UI Events</h1>
</div>

  <div id="jd-content">


    <div class="jd-descr">
    <div id="qv-wrapper">
<div id="qv">
  <h2>In this document</h2>
  <ol>
    <li><a href="#EventListeners">Event Listeners</a></li>
    <li><a href="#EventHandlers">Event Handlers</a></li>
    <li><a href="#TouchMode">Touch Mode</a></li>
    <li><a href="#HandlingFocus">Handling Focus</a></li>
  </ol>

  <h2>See also</h2>
  <ol>
    <li><a href="../../../guide/tutorials/views/hello-formstuff.html">Hello Form Stuff tutorial</a></li>
  </ol>
</div>
</div>

<p>On Android, there's more than one way to intercept the events from a user's interaction with your application.
When considering events within your user interface, the approach is to capture the events from
the specific View object that the user interacts with. The View class provides the means to do so.</p>

<p>Within the various View classes that you'll use to compose your layout, you may notice several public callback 
methods that look useful for UI events. These methods are called by the Android framework when the 
respective action occurs on that object. For instance, when a View (such as a Button) is touched,
the <code>onTouchEvent()</code> method is called on that object. However, in order to intercept this, you must extend
the class and override the method. Obviously, extending every View object
you want to use (just to handle an event) would be obsurd. This is why the View class also contains
a collection of nested interfaces with callbacks that you can much more easily define. These interfaces,
called <a href="#EventListeners">event listeners</a>, are your ticket to capturing the user interaction with your UI.</p>

<p>While you will more commonly use the event listeners to listen for user interaction, there may
come a time when you do want to extend a View class, in order to build a custom component. 
Perhaps you want to extend the <a href="../../../reference/android/widget/Button.html">Button</a>
class to make something more fancy. In this case, you'll be able to define the default event behaviors for your
class using the class <a href="#EventHandlers">event handlers</a>.</p>


<h2 id="EventListeners">Event Listeners</h2>

<p>An event listener is an interface in the <a href="../../../reference/android/view/View.html">View</a> class that contains a single 
callback method. These methods will be called by the Android framework when the View to which the listener has
been registered is triggered by user interaction with the item in the UI.</p>

<p>Included in the event listener interfaces are the following callback methods:</p>

<dl>
  <dt><code>onClick()</code></dt>
    <dd>From <a href="../../../reference/android/view/View.OnClickListener.html">View.OnClickListener</a>. 
    This is called when the user either touches the item 
    (when in touch mode), or focuses upon the item with the navigation-keys or trackball and
    presses the suitable "enter" key or presses down on the trackball.</dd>
  <dt><code>onLongClick()</code></dt>
    <dd>From <a href="../../../reference/android/view/View.OnLongClickListener.html">View.OnLongClickListener</a>. 
    This is called when the user either touches and holds the item (when in touch mode), or 
    focuses upon the item with the navigation-keys or trackball and
    presses and holds the suitable "enter" key or presses and holds down on the trackball (for one second).</dd>
  <dt><code>onFocusChange()</code></dt>
    <dd>From <a href="../../../reference/android/view/View.OnFocusChangeListener.html">View.OnFocusChangeListener</a>. 
    This is called when the user navigates onto or away from the item, using the navigation-keys or trackball.</dd>
  <dt><code>onKey()</code></dt>
    <dd>From <a href="../../../reference/android/view/View.OnKeyListener.html">View.OnKeyListener</a>. 
    This is called when the user is focused on the item and presses or releases a key on the device.</dd>
  <dt><code>onTouch()</code></dt>
    <dd>From <a href="../../../reference/android/view/View.OnTouchListener.html">View.OnTouchListener</a>. 
    This is called when the user performs an action qualified as a touch event, including a press, a release,
    or any movement gesture on the screen (within the bounds of the item).</dd>
  <dt><code>onCreateContextMenu()</code></dt>
    <dd>From <a href="../../../reference/android/view/View.OnCreateContextMenuListener.html">View.OnCreateContextMenuListener</a>. 
    This is called when a Context Menu is being built (as the result of a sustained "long click"). See the discussion
    on context menus in <a href="../../../guide/topics/ui/menus.html#context-menu">Creating Menus</a> for more information.</dd>
</dl>

<p>These methods are the sole inhabitants of their respective interface. To define one of these methods
and handle your events, implement the nested interface in your Activity or define it as an anonymous class.
Then, pass an instance of your implementation
to the respective <code>View.set...Listener()</code> method. (E.g., call 
<code><a href="../../../reference/android/view/View.html#setOnClickListener(android.view.View.OnClickListener)">setOnClickListener()</a></code> 
and pass it your implementation of the <a href="../../../reference/android/view/View.OnClickListener.html">OnClickListener</a>.)</p>

<p>The example below shows how to register an on-click listener for a Button. </p>

<pre>
// Create an anonymous implementation of OnClickListener
private OnClickListener mCorkyListener = new OnClickListener() {
    public void onClick(View v) {
      // do something when the button is clicked
    }
};

protected void onCreate(Bundle savedValues) {
    ...
    // Capture our button from layout
    Button button = (Button)findViewById(R.id.corky);
    // Register the onClick listener with the implementation above
    button.setOnClickListener(mCorkyListener);
    ...
}
</pre>

<p>You may also find it more conventient to implement OnClickListener as a part of your Activity.
This will avoid the extra class load and object allocation. For example:</p>
<pre>
public class ExampleActivity extends Activity implements OnClickListener {
    protected void onCreate(Bundle savedValues) {
        ...
        Button button = (Button)findViewById(R.id.corky);
        button.setOnClickListener(this);
    }

    // Implement the OnClickListener callback
    public void onClick(View v) {
      // do something when the button is clicked
    }
    ...
}
</pre>

<p>Notice that the <code>onClick()</code> callback in the above example has
no return value, but some other event listener methods must return a boolean. The reason
depends on the event. For the few that do, here's why:</p>
<ul>
  <li><code><a href="../../../reference/android/view/View.OnLongClickListener.html#onLongClick(android.view.View)">onLongClick()</a></code> - 
    This returns a boolean to indicate whether you have consumed the event and it should not be carried further. 
    That is, return <em>true</em> to indicate that you have handled the event and it should stop here; 
    return <em>false</em> if you have not handled it and/or the event should continue to any other
    on-click listeners.</li>
  <li><code><a href="../../../reference/android/view/View.OnKeyListener.html#onKey(android.view.View, int, android.view.KeyEvent)">onKey()</a></code> - 
    This returns a boolean to indicate whether you have consumed the event and it should not be carried further.
    That is, return <em>true</em> to indicate that you have handled the event and it should stop here; 
    return <em>false</em> if you have not handled it and/or the event should continue to any other
    on-key listeners.</li>
  <li><code><a href="../../../reference/android/view/View.OnTouchListener.html#onTouch(android.view.View, android.view.MotionEvent)">onTouch()</a></code> - 
    This returns a boolean to indicate whether your listener consumes this event. The important thing is that
    this event can have multiple actions that follow each other. So, if you return <em>false</em> when the
    down action event is received, you indicate that you have not consumed the event and are also
    not interested in subsequent actions from this event. Thus, you will not be called for any other actions
    within the event, such as a fingure gesture, or the eventual up action event.</li>
</ul>

<p>Remember that key events are always delivered to the View currently in focus. They are dispatched starting from the top
of the View hierarchy, and then down, until they reach the appropriate destination. If your View (or a child of your View)
currently has focus, then you can see the event travel through the <code><a href="../../../reference/android/view/View.html#dispatchKeyEvent(android.view.KeyEvent)">dispatchKeyEvent()</a></code> method. As an alternative to capturing key events through your View, you can also receive 
all of the events inside your Activity with <code><a href="../../../reference/android/app/Activity.html#onKeyDown(int, android.view.KeyEvent)">onKeyDown()</a></code>
and <code><a href="../../../reference/android/app/Activity.html#onKeyUp(int, android.view.KeyEvent)">onKeyUp()</a></code>.</p>

<p class="note"><strong>Note:</strong> Android will call event handlers first and then the appropriate default
handlers from the class definition second. As such, returning <em>true</em> from these event listeners will stop
the propagation of the event to other event listeners and will also block the callback to the
default event handler in the View. So be certain that you want to terminate the event when you return <em>true</em>.</p>


<h2 id="EventHandlers">Event Handlers</h2>

<p>If you're building a custom component from  View, then you'll be able to define several callback methods
used as default event handlers.
In the document on <a href="../../../guide/topics/ui/custom-components.html">Building Custom Components</a>,
you'll learn see some of the common callbacks used for event handling, including:</p>
<ul>
  <li><code><a href="../../../reference/android/view/View.html#onKeyDown(int, android.view.KeyEvent)">onKeyDown(int, KeyEvent)</a></code> - Called when a new key event occurs.</li>
  <li><code><a href="../../../reference/android/view/View.html#onKeyUp(int, android.view.KeyEvent)">onKeyUp(int, KeyEvent)</a></code> - Called when a key up event occurs.</li>
  <li><code><a href="../../../reference/android/view/View.html#onTrackballEvent(android.view.MotionEvent)">onTrackballEvent(MotionEvent)</a></code> - Called when a trackball motion event occurs.</li>
  <li><code><a href="../../../reference/android/view/View.html#onTouchEvent(android.view.MotionEvent)">onTouchEvent(MotionEvent)</a></code> - Called when a touch screen motion event occurs.</li>
  <li><code><a href="../../../reference/android/view/View.html#onFocusChanged(boolean, int, android.graphics.Rect)">onFocusChanged(boolean, int, Rect)</a></code> - Called when the view gains or loses focus.</li>
</ul>
<p>There are some other methods that you should be awere of, which are not part of the View class, 
but can directly impact the way you're able to handle events. So, when managing more complex events inside 
a layout, consider these other methods:</p>
<ul>
  <li><code><a href="../../../reference/android/app/Activity.html#dispatchTouchEvent(android.view.MotionEvent)">Activity.dispatchTouchEvent(MotionEvent)</a></code> - This allows your <a href="../../../reference/android/app/Activity.html">Activity</a> to intercept all touch events before they are dispatched to the window.</li>
  <li><code><a href="../../../reference/android/view/ViewGroup.html#onInterceptTouchEvent(android.view.MotionEvent)">ViewGroup.onInterceptTouchEvent(MotionEvent)</a></code> - This allows a <a href="../../../reference/android/view/ViewGroup.html">ViewGroup</a> to watch events as they are dispatched to child Views.</li>
  <li><code><a href="../../../reference/android/view/ViewParent.html#requestDisallowInterceptTouchEvent(boolean)">ViewParent.requestDisallowInterceptTouchEvent(boolean)</a></code> - Call this
    upon a parent View to indicate that it should not intercept touch events with <code><a href="../../../reference/android/view/ViewGroup.html#onInterceptTouchEvent(android.view.MotionEvent)">onInterceptTouchEvent(MotionEvent)</a></code>.</li>
</ul>

<h2 id="TouchMode">Touch Mode</h2>
<p>
When a user is navigating a user interface with directional keys or a trackball, it is
necessary to give focus to actionable items (like buttons) so the user can see
what will accept input.  If the device has touch capabilities, however, and the user
begins interacting with the interface by touching it, then it is no longer necessary to
highlight items, or give focus to a particular View.  Thus, there is a mode
for interaction named "touch mode." 
</p>
<p>
For a touch-capable device, once the user touches the screen, the device
will enter touch mode.  From this point onward, only Views for which
<a href="../../../reference/android/view/View.html#isFocusableInTouchMode()">isFocusableInTouchMode()</a> is true will be focusable, such as text editing widgets.
Other Views that are touchable, like buttons, will not take focus when touched; they will
simply fire their on-click listeners when pressed.
</p>
<p>
Any time a user hits a directional key or scrolls with a trackball, the device will
exit touch mode, and find a view to take focus. Now, the user may resume interacting
with the user interface without touching the screen.
</p>
<p>
The touch mode state is maintained throughout the entire system (all windows and activities). 
To query the current state, you can call
<a href="../../../reference/android/view/View.html#isInTouchMode()">isInTouchMode()</a> to see whether the device is currently in touch mode.
</p>


<h2 id="HandlingFocus">Handling Focus</h2>

<p>The framework will handle routine focus movement in response to user input.
This includes changing the focus as Views are removed or hidden, or as new
Views become available. Views indicate their willingness to take focus
through the <code><a href="../../../reference/android/view/View.html#isFocusable()">isFocusable()</a></code> method. To change whether a View can take
focus, call <code><a href="../../../reference/android/view/View.html#setFocusable(boolean)">setFocusable()</a></code>.  When in touch mode,
you may query whether a View allows focus with <code><a href="../../../reference/android/view/View.html#isFocusableInTouchMode()">isFocusableInTouchMode()</a></code>.
You can change this with <code><a href="../../../reference/android/view/View.html#setFocusableInTouchMode(boolean)">setFocusableInTouchMode()</a></code>.
</p>

<p>Focus movement is based on an algorithm which finds the nearest neighbor in a
given direction. In rare cases, the default algorithm may not match the
intended behavior of the developer. In these situations, you can provide
explicit overrides with the following XML attributes in the layout file:
<var>nextFocusDown</var>, <var>nextFocusLeft</var>, <var>nextFocusRight</var>, and
<var>nextFocusUp</var>. Add one of these attributes to the View <em>from</em> which
the focus is leaving. Define the value of the attribute to be the id of the View
<em>to</em> which focus should be given. For example:</p>
<pre>
&lt;LinearLayout
    android:orientation="vertical"
    ... >
  &lt;Button android:id="@+id/top"
          android:nextFocusUp="@+id/bottom"
          ... />
  &lt;Button android:id="@+id/bottom"
          android:nextFocusDown="@+id/top"
          ... />
&lt;/LinearLayout>
</pre>

<p>Ordinarily, in this vertical layout, navigating up from the first Button would not go
anywhere, nor would navigating down from the second Button. Now that the top Button has
defined the bottom one as the <var>nextFocusUp</var> (and vice versa), the navigation focus will 
cycle from top-to-bottom and bottom-to-top.</p>

<p>If you'd like to declare a View as focusable in your UI (when it is traditionally not), 
add the <code>android:focusable</code> XML attribute to the View, in your layout declaration.
Set the value <var>true</var>. You can also declare a View
as focusable while in Touch Mode with <code>android:focusableInTouchMode</code>.</p>
<p>To request a particular View to take focus, call <code><a href="../../../reference/android/view/View.html#requestFocus()">requestFocus()</a></code>.</p>
<p>To listen for focus events (be notified when a View receives or looses focus), use
<code><a href="../../../reference/android/view/View.OnFocusChangeListener.html#onFocusChange(android.view.View, boolean)">onFocusChange()</a></code>,
as discussed in the <a href="#EventListeners">Event Listeners</a> section, above.</p>



<!--
<h2 is="EventCycle">Event Cycle</h2>
   <p>The basic cycle of a View is as follows:</p>
   <ol>
    <li>An event comes in and is dispatched to the appropriate View. The View
    handles the event and notifies any listeners.</li>
    <li>If, in the course of processing the event, the View's bounds may need
    to be changed, the View will call <a href="../../../reference/android/view/View.html#requestLayout()">requestLayout()</a>.</li>
    <li>Similarly, if in the course of processing the event the View's appearance
    may need to be changed, the View will call <a href="../../../reference/android/view/View.html#invalidate()">invalidate()</a>.</li>
    <li>If either <a href="../../../reference/android/view/View.html#requestLayout()">requestLayout()</a> or <a href="../../../reference/android/view/View.html#invalidate()">invalidate()</a> were called,
    the framework will take care of measuring, laying out, and drawing the tree
    as appropriate.</li>
   </ol>
   
   <p class="note"><strong>Note:</strong> The entire View tree is single threaded. You must always be on
   the UI thread when calling any method on any View.
   If you are doing work on other threads and want to update the state of a View
   from that thread, you should use a <a href="../../../reference/android/os/Handler.html">Handler</a>.
   </p>
-->

    </div>

  <a href="#top" style="float:right">&uarr; Go to top</a>
  
    <p><a href="index.html">&larr; Back to User Interface</a></p>
  
  </div>

<div id="footer">


  <div id="copyright">
    
  Except as noted, this content is licensed under <a
  href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0</a>. 
  For details and restrictions, see the <a href="../../../license.html">
  Content License</a>.
  </div>
  <div id="build_info">
    
  Android 1.5&nbsp;r1 - 26  8月 2009 22:34

  </div>

  <div id="footerlinks">
    
  <p>
    <a href="http://www.android.com/terms.html">Site Terms of Service</a> -
    <a href="http://www.android.com/privacy.html">Privacy Policy</a> -
    <a href="http://www.android.com/branding.html">Brand Guidelines</a>
  </p>
  </div>

</div> <!-- end footer -->

</div><!-- end doc-content -->

</div> <!-- end body-content --> 

<script type="text/javascript">
init(); /* initialize android-developer-docs.js */
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-5831155-1");
pageTracker._trackPageview();
</script>

</body>
</html>



